/*! (c) Andrea Giammarchi - ISC */
var self=this||{};try{self.EventTarget=(new EventTarget).constructor}catch(e){!function(e,a){var t=e.create,i=e.defineProperty,n=r.prototype;function o(e,t){return e[t]||(e[t]={inline:null,list:[]}),e[t]}function r(){"use strict";a.set(this,t(null))}function s(e,t,n){i(e,t,{configurable:!0,writable:!0,value:n})}function l(e){var t=e.options;t&&t.once&&e.target.removeEventListener(this.type,e.listener),"function"==typeof e.listener?e.listener.call(e.target,this):e.listener.handleEvent(this)}s(n,"addEventListener",function(e,t,n){for(var i=o(a.get(this),e).list,r=0,s=i.length;r<s;r++)if(i[r].listener===t)return;i.push({target:this,listener:t,options:n})}),s(n,"_on",function(e,t){var n=o(a.get(this),e),i=n.list,r=n.inline;if(null!=(n.inline=t)){for(var s=0,l=i.length;s<l;s++)if(i[s].listener===r)return void(i[s].listener=t);i.push({target:this,listener:t})}else this.removeEventListener(e,r)}),s(n,"dispatchEvent",function(e){var t=a.get(this)[e.type];if(t){var n=t.list;n&&(s(e,"target",this),s(e,"currentTarget",this),n.slice(0).forEach(l,e),delete e.currentTarget,delete e.target)}return!0}),s(n,"removeEventListener",function(e,t){for(var n=o(a.get(this),e).list,i=0,r=n.length;i<r;i++)if(n[i].listener===t)return void n.splice(i,1)}),self.EventTarget=r}(Object,new WeakMap)}